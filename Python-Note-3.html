<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/logo.jpg"><link rel="icon" href="/img/logo.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#01213a"><meta name="description" content="学习 Python 时做的笔记，介绍了常用的数据可视化第三方库 Matplotlib 的使用方法，本文将持续更新。"><meta name="author" content="He Wei"><meta name="keywords" content="Computer Science and Technology, Machine Learning, Deep Learning, Computer Vision, Natural Language Processing"><meta name="baidu-site-verification" content="code-J3wrn8WJYJ"><meta name="google-site-verification" content="0p_KJKTfB8EcahVDp0vYRjVRhHFw1SBWHi15OakKHY0"><meta name="description" content="学习 Python 时做的笔记，介绍了常用的数据可视化第三方库 Matplotlib 的使用方法，本文将持续更新。"><meta property="og:type" content="article"><meta property="og:title" content="Python笔记 #3 Matplotlib"><meta property="og:url" content="https://hwcoder.top/Python-Note-3"><meta property="og:site_name" content="Hwcoder - Life Oriented Programming"><meta property="og:description" content="学习 Python 时做的笔记，介绍了常用的数据可视化第三方库 Matplotlib 的使用方法，本文将持续更新。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-09-27T09:15:34.000Z"><meta property="article:modified_time" content="2022-01-11T09:38:06.044Z"><meta property="article:author" content="He Wei"><meta property="article:tag" content="Python"><meta name="twitter:card" content="summary_large_image"><title>Python笔记 #3 Matplotlib | Hwcoder - Life Oriented Programming</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/night-owl.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/css/mac.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"hwcoder.top",root:"/",version:"1.8.12",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h2, h3",placement:"left",visible:"always",icon:"§"},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4",collapseDepth:3},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"XGNf4GEnaFLiUijMUvz8HSBF-gzGzoHsz",app_key:"JPeVLcug6EcWdBTpGrDJSdKi",server_url:"https://xgnf4gen.lc-cn-n1-shared.com",path:"window.location.pathname"}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Hwcoder</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于我</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(/img/bg/other.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="Python笔记 #3 Matplotlib"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-09-27 17:15" pubdate>2021年9月27日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.7k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 15 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">Python笔记 #3 Matplotlib</h1><p class="note note-info">本文最后更新于：2022年1月11日 下午</p><div class="markdown-body"><p>学习 Machine Learning 的时候发现需要用许多矩阵运算和画图的库，本文将以<strong>实用主义</strong>的方式记录每次遇到的新用法。</p><p>2021 年贵系的暑培新增了「科学计算」内容，本文部分内容参考了清华 LZJ 同学的教程。本文将持续更新。</p><h2 id="Matplotlib-基础"><a href="#Matplotlib-基础" class="headerlink" title="Matplotlib 基础"></a>Matplotlib 基础</h2><p>绘图时最常用的模块是 Matplotlib 中的 <strong>pyplot</strong> 模块。绘图时先调用相关绘图函数，设置图像各种细节，最后调用 <code>plt.show()</code> 显示图片。</p><p>这时会出现一个基于 Qt 实现的交互窗口，程序执行到 <code>plt.show()</code> 时阻塞。在交互窗口中可以<strong>进一步调整图片</strong>格式细节或<strong>保存图片</strong>，关闭窗口后程序继续运行。下面以一个例子说明：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br>x = np.linspace(-<span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">30</span>)  <span class="hljs-comment"># [-4, 4] 中长度为 30 的等差数列</span><br>y = np.sin(x)				<span class="hljs-comment"># 获得 sin 值</span><br>plt.plot(x, y)				<span class="hljs-comment"># 以 x 为自变量，y 为因变量，绘制折线图</span><br>plt.show()					<span class="hljs-comment"># 显示图像，程序阻塞</span><br></code></pre></div></td></tr></table></figure><h3 id="格式字符串"><a href="#格式字符串" class="headerlink" title="格式字符串"></a>格式字符串</h3><p>与 Matlab 相似，Matplotlib 使用事先约定好的字符串代表<strong>绘图格式</strong>，将其写入 <code>plt.plot()</code> 即可，如 <code>plt.plot(x, y, &#39;bo&#39;)</code> 即蓝色圆圈标记。</p><ul><li><code>color</code>：绘制点的颜色，支持以下常用缩写（还有更多未列出的颜色全名），还可以用十六进制代码 <code>c=&#39;#000&#39;</code> 指定。</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:center">颜色</th><th style="text-align:center">字符</th><th style="text-align:center">颜色</th><th style="text-align:center">字符</th><th style="text-align:center">颜色</th><th style="text-align:center">字符</th><th style="text-align:center">颜色</th></tr></thead><tbody><tr><td style="text-align:center"><code>b</code></td><td style="text-align:center">蓝色</td><td style="text-align:center"><code>r</code></td><td style="text-align:center">红色</td><td style="text-align:center"><code>m</code></td><td style="text-align:center">洋红色</td><td style="text-align:center"><code>k</code></td><td style="text-align:center">黑色</td></tr><tr><td style="text-align:center"><code>g</code></td><td style="text-align:center">绿色</td><td style="text-align:center"><code>c</code></td><td style="text-align:center">青色</td><td style="text-align:center"><code>y</code></td><td style="text-align:center">黄色</td><td style="text-align:center"><code>w</code></td><td style="text-align:center">白色</td></tr></tbody></table></div><ul><li><code>color#xkcd</code>：xkdc 调色盘总结了数百种最常用的颜色，比标准色更美观，使用 <code>c=&#39;xkcd:pink&#39;</code> 格式即可使用。</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">全称</th><th style="text-align:center">颜色</th><th style="text-align:center">全称</th><th style="text-align:center">颜色</th><th style="text-align:center">全称</th><th style="text-align:center">颜色</th><th style="text-align:center">全称</th><th style="text-align:center">颜色</th></tr></thead><tbody><tr><td style="text-align:center"><code>pink</code></td><td style="text-align:center">粉色</td><td style="text-align:center"><code>sky blue</code></td><td style="text-align:center">天蓝色</td><td style="text-align:center"><code>orange</code></td><td style="text-align:center">橘色</td><td style="text-align:center"><code>light green</code></td><td style="text-align:center">嫩绿色</td></tr><tr><td style="text-align:center"><code>light purple</code></td><td style="text-align:center">嫩紫色</td><td style="text-align:center"><code>lavender</code></td><td style="text-align:center">粉紫色</td><td style="text-align:center"><code>tan</code></td><td style="text-align:center">褐色</td><td style="text-align:center"><code>aqua</code></td><td style="text-align:center">海绿色</td></tr></tbody></table></div><ul><li><code>marker</code>：绘制点的形状。</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:center">标记</th><th style="text-align:center">字符</th><th style="text-align:center">标记</th><th style="text-align:center">字符</th><th style="text-align:center">标记</th><th style="text-align:center">字符</th><th style="text-align:center">标记</th></tr></thead><tbody><tr><td style="text-align:center"><code>.</code></td><td style="text-align:center">点标记</td><td style="text-align:center"><code>&gt;</code></td><td style="text-align:center">右三角标记</td><td style="text-align:center"><code>p</code></td><td style="text-align:center">五边形标记</td><td style="text-align:center"><code>D</code></td><td style="text-align:center">菱形标记</td></tr><tr><td style="text-align:center"><code>,</code></td><td style="text-align:center">像素标记</td><td style="text-align:center"><code>1</code></td><td style="text-align:center">三叉戟标记</td><td style="text-align:center"><code>*</code></td><td style="text-align:center">星形标记</td><td style="text-align:center"><code>d</code></td><td style="text-align:center">菱形标记</td></tr><tr><td style="text-align:center"><code>o</code></td><td style="text-align:center">圆圈标记</td><td style="text-align:center"><code>2</code></td><td style="text-align:center">三叉戟标记</td><td style="text-align:center"><code>h</code></td><td style="text-align:center">六角形标记</td><td style="text-align:center"><code>丨</code></td><td style="text-align:center">竖线标记</td></tr><tr><td style="text-align:center"><code>v</code></td><td style="text-align:center">倒三角标记</td><td style="text-align:center"><code>3</code></td><td style="text-align:center">三叉戟标记</td><td style="text-align:center"><code>H</code></td><td style="text-align:center">六角形标记</td><td style="text-align:center"><code>_</code></td><td style="text-align:center">横线标记</td></tr><tr><td style="text-align:center"><code>^</code></td><td style="text-align:center">正三角标记</td><td style="text-align:center"><code>4</code></td><td style="text-align:center">三叉戟标记</td><td style="text-align:center"><code>+</code></td><td style="text-align:center">+标记</td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><code>&lt;</code></td><td style="text-align:center">左三角标记</td><td style="text-align:center"><code>s</code></td><td style="text-align:center">正方形标记</td><td style="text-align:center"><code>x</code></td><td style="text-align:center">x标记</td><td style="text-align:center"></td></tr></tbody></table></div><ul><li><code>line</code>：绘制线的形状。</li></ul><div class="table-container"><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:center">格式</th><th style="text-align:center">字符</th><th style="text-align:center">格式</th><th style="text-align:center">字符</th><th style="text-align:center">格式</th><th style="text-align:center">字符</th><th style="text-align:center">格式</th></tr></thead><tbody><tr><td style="text-align:center"><code>-</code></td><td style="text-align:center">实线</td><td style="text-align:center"><code>--</code></td><td style="text-align:center">虚线</td><td style="text-align:center"><code>-.</code></td><td style="text-align:center">点划线</td><td style="text-align:center"><code>:</code></td><td style="text-align:center">点线</td></tr></tbody></table></div><h2 id="特定类型图"><a href="#特定类型图" class="headerlink" title="特定类型图"></a>特定类型图</h2><p>下面是一些常用的绘图函数。更多官网案例：<a target="_blank" rel="noopener" href="https://matplotlib.org/stable/gallery/index.html。">https://matplotlib.org/stable/gallery/index.html。</a></p><h3 id="折线图-plot"><a href="#折线图-plot" class="headerlink" title="折线图 plot()"></a>折线图 <code>plot()</code></h3><p><code>plt.plot()</code> 用于绘制<strong>折线图</strong>，需要一系列点作为因变量和自变量，函数接口如下：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python">matplotlib.pyplot.plot(*args, scalex=<span class="hljs-literal">True</span>, scaley=<span class="hljs-literal">True</span>, data=<span class="hljs-literal">None</span>, **kwargs)<br></code></pre></div></td></tr></table></figure><p>观察接口，可以发现有以下的用法：</p><ul><li>传入<strong>两个等长</strong>数组或列表，前者是自变量，后者是因变量。</li><li>只传入<strong>一个</strong>数组或列表，自变量默认从 0 开始整数递增。</li><li>传入两个列表，<strong>各包含两个值</strong>，可以绘制一条直线。</li></ul><h3 id="散点图-scatter"><a href="#散点图-scatter" class="headerlink" title="散点图 scatter()"></a>散点图 <code>scatter()</code></h3><p><code>plt.scatter()</code> 用于绘制<strong>散点图</strong>，需要<strong>两个等长</strong>数组或列表，函数接口如下：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python">matplotlib.pyplot.scatter(x, y, s=<span class="hljs-literal">None</span>, c=<span class="hljs-literal">None</span>, marker=<span class="hljs-literal">None</span>, **kwargs)<br></code></pre></div></td></tr></table></figure><p>其中只有 <code>x</code> 和 <code>y</code> 为必填项，<code>s</code> 代表每个点的大小，可以是常数也可以是列表。</p><h3 id="子图-subplot"><a href="#子图-subplot" class="headerlink" title="子图 subplot()"></a>子图 <code>subplot()</code></h3><p><code>plt.subplot()</code> 用于在一张图里绘制<strong>多个子图</strong>，函数接口如下：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python">matplotlib.pyplot.subplot(nrows, ncols, index, **kwargs)<br></code></pre></div></td></tr></table></figure><p>其中只有 <code>nrow</code> 和 <code>ncols</code> 表示总共有多少子图，<code>index</code> 代表其中第几个。如：<code>plt.subplot(2,2,1)</code>，也可以缩写为 <code>plt.subplot(221)</code>。</p><p>紧跟在 <code>plt.subplot()</code> 语句后面的语句绘制的就是 <code>index</code> 所指向的图，绘制完再次使用 <code>plt.subplot()</code> 语句切换到下一张子图。</p><h3 id="轮廓图-contour"><a href="#轮廓图-contour" class="headerlink" title="轮廓图 contour()"></a>轮廓图 <code>contour()</code></h3><p><code>plt.contour()</code> 用于绘制<strong>等高线图</strong>，也可绘制闭合的<strong>轮廓图</strong>，函数接口如下：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python">matplotlib.pyplot.contour(X, Y, Z, [levels], **kwargs)<br></code></pre></div></td></tr></table></figure><p>其中 <code>X</code> 和 <code>Y</code> 是一维的数组，代表绘制的网格点的横纵坐标；<code>Z</code> 是形状为 <code>(len(X), len(Y))</code> 的二维数组，代表绘制点的高度。参数 <code>levels</code> 是一个列表，如果空缺则默认绘制<strong>一组等距的等高线</strong>，也可以传入 <code>[0, 0.5, 1]</code> 这样的列表，则只会<strong>显示对应高度</strong>的轮廓线。</p><h2 id="其他辅助库"><a href="#其他辅助库" class="headerlink" title="其他辅助库"></a>其他辅助库</h2><p>除了上述的数据分析第三方库，还有一些辅助工具库也许有用。因为不知道记在哪里，就先放在本节。</p><h3 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h3><p><code>time</code> 是 Python 中处理时间的标准库，提供系统级精确计时功能（可以用于程序性能分析）。其主要功能分为三块：时间获取、时间格式化、程序计时，这里介绍计时相关内容。</p><ul><li><code>sleep(s)</code>： <code>s</code> 为休眠时间，单位秒，可以是浮点数。</li><li><code>perf_counter()</code>：返回一个 CPU 级别的精确时间计数值，单位为秒。</li></ul><p>后者的使用由于<strong>计数器起点</strong>不确定，<strong>连续调用求差值</strong>才有意义：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr = np.arange(<span class="hljs-number">100000000</span>)<br>start = time.perf_counter()		<span class="hljs-comment"># 计数器起点</span><br>arr = arr * <span class="hljs-number">2</span><br>end = time.perf_counter()		<span class="hljs-comment"># 计数器终点</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;numpy time cost: %.3f s&#x27;</span> % (end - start))<br></code></pre></div></td></tr></table></figure><h3 id="pipreqs"><a href="#pipreqs" class="headerlink" title="pipreqs"></a>pipreqs</h3><p>当我们写好一个 Python 项目之后，如果要开源代码，为了让别人能快速运行项目，一般可以提供一个 <code>requirements.txt</code> 的，用以配置环境。</p><p><code>pipreqs</code> 是用于自动生成上述文件的一个第三方库，使用 <code>pip install pipreqs</code> 安装，进入<strong>项目根目录</strong>，执行 <code>pipreqs ./</code> 即可。如果出现编码错误，可以指定编码方式解决：</p><figure class="highlight powershell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs powershell">pipreqs ./ -<span class="hljs-literal">-encoding</span> utf<span class="hljs-literal">-8</span><br></code></pre></div></td></tr></table></figure><p>其他人则可以使用以下命令配置环境：</p><figure class="highlight powershell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs powershell">pip install <span class="hljs-literal">-r</span> requirements.txt<br></code></pre></div></td></tr></table></figure><h3 id="codecs"><a href="#codecs" class="headerlink" title="codecs"></a>codecs</h3><p><code>codec</code> 意为字符的编解码器（Encoder&amp;Decoder），Python 对多国语言的处理是支持的很好的，它可以处理现在任意编码的字符。在作字符转换时，Python 会借助于内部的编码（Unicode），转换的过程是这样的：<code>原有编码 -&gt; 内部编码 -&gt; 目的编码</code>。而这个转换的过程就需要用到编解码器。</p><p>一种基本的用法是通过 <code>lookup</code> 获取特定的编码器，再用其与 Unicode 进行转换：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> codecs<br><span class="hljs-meta">&gt;&gt;&gt; </span>codec1 = codecs.lookup(<span class="hljs-string">&quot;utf-8&quot;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a = <span class="hljs-string">&quot;你好&quot;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b = codec1.encode(a)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(b)<br>(<span class="hljs-string">b&#x27;\xe4\xbd\xa0\xe5\xa5\xbd&#x27;</span>, <span class="hljs-number">2</span>) 	<span class="hljs-comment"># 其中 2 为 len(a)</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>c = codec1.decode(b[<span class="hljs-number">0</span>])<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(c)<br>(<span class="hljs-string">&#x27;你好&#x27;</span>, <span class="hljs-number">6</span>) 	<span class="hljs-comment"># 其中 6 为 len(b[0])</span><br></code></pre></div></td></tr></table></figure><p>另一种更常用的用法是对<strong>文件</strong>字符编码的处理，常用于数据处理任务：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-keyword">import</span> codecs<br><span class="hljs-comment"># 使用 codecs 自带的 open 读取文件，指定编码方式</span><br>file = codecs.<span class="hljs-built_in">open</span>(path, encoding=<span class="hljs-string">&#x27;latin-1&#x27;</span>).readlines()<br></code></pre></div></td></tr></table></figure><h3 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h3><p>Python 自带的日志模块，基本使用方法如下：</p><figure class="highlight python"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs python"><span class="hljs-keyword">import</span> logging<br><br>logger = logging.getLogger(__name__)  <span class="hljs-comment"># 以当前文件名实例化 logger 记录器</span><br>logging.basicConfig(level=logging.INFO, <span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;%(message)s&quot;</span>)  <span class="hljs-comment"># 简单配置日志级别与格式</span><br><br><span class="hljs-comment"># 具体用法</span><br>logging.debug(<span class="hljs-string">&#x27;debug message&#x27;</span>)<br>logging.info(<span class="hljs-string">&#x27;info message&#x27;</span>)<br>logging.warn(<span class="hljs-string">&#x27;warn message&#x27;</span>)<br>logging.error(<span class="hljs-string">&#x27;error message&#x27;</span>)<br>logging.critical(<span class="hljs-string">&#x27;critical message&#x27;</span>) <br></code></pre></div></td></tr></table></figure><p>所谓日志级别，就是日志中只关注大于设定级别的内容：</p><div class="table-container"><table><thead><tr><th style="text-align:center">级别</th><th style="text-align:center">何时使用</th></tr></thead><tbody><tr><td style="text-align:center">DEBUG</td><td style="text-align:center">详细信息，调试时对所有问题感兴趣</td></tr><tr><td style="text-align:center">INFO</td><td style="text-align:center">事情按预期工作</td></tr><tr><td style="text-align:center">WARNING</td><td style="text-align:center">可能的意外，但仍能工作</td></tr><tr><td style="text-align:center">ERROR</td><td style="text-align:center">错误，软件已不能执行一些功能</td></tr><tr><td style="text-align:center">CRITICAL</td><td style="text-align:center">严重错误，软件已不能继续运行</td></tr></tbody></table></div></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E6%8A%80%E6%9C%AF%E7%BB%8F%E9%AA%8C/">技术经验</a> <a class="hover-with-bg" href="/categories/%E6%8A%80%E6%9C%AF%E7%BB%8F%E9%AA%8C/Python/">Python</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/Python/">Python</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow noopener noopener"><u>CC BY-NC-SA 4.0</u></a> 协议，转载请注明来自 <a href="https://hwcoder.top" rel="noopener"><u>Hwcoder</u></a>！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/PR-Note-1"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">PR学习笔记 #1 KNN分类器</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/Python-Note-2"><span class="hidden-mobile">Python笔记 #2 NumPy</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"jdbBr3BddTiqSCPnXw6sXFv7-gzGzoHsz","appKey":"2bjgwDr2opjVCwhgjDMpk53c","path":"window.location.pathname","placeholder":"说点什么吧( •̀ ω •́ )✧","avatar":"retro","meta":["nick","mail","link"],"requiredFields":["nick"],"pageSize":10,"lang":"zh-CN","highlight":true,"recordIP":true,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          Fluid.plugins.initFancyBox('#valine .vcontent img:not(.vemoji)');
        })
      });
    });</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/local-search.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script><script defer src="/js/leancloud.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js"></script><script>!function(t){(0,Fluid.plugins.typing)(t.getElementById("subtitle").title)}((window,document))</script><script src="/js/boot.js"></script></body></html>